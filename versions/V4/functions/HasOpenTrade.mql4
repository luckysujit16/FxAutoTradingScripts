bool HasOpenTrade(string symbol)
{
    for (int i = 0; i < OrdersTotal(); i++)
    {
        if (OrderSelect(i, SELECT_BY_POS, MODE_TRADES) && OrderSymbol() == symbol)
        {
            Print("Existing trade found for ", symbol, " | Ticket: ", OrderTicket());
            return true; // Open trade exists for the symbol
        }
    }
    Print("No open trade found for ", symbol);
    return false; // No open trade exists for the symbol
}
